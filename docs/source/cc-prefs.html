<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">/* global _mtvnPlayerReady, require, PackageManager, Config */
_mtvnPlayerReady.push(function(player) {
	player.on(PackageManager.Events.CC_PREFS, function(event) {
		// maybe jQuery is in the page. 
		Config.provideJQuery();
		require([&quot;$&quot;, &quot;mtvn-util&quot;, &quot;mtvn-player/cc-prefs&quot;], function($, util, CCPrefs) {
			var $player = $(player.element),
				prefs = new CCPrefs({
					defaults: event.data,
					css: {
						position: &quot;absolute&quot;,
						width: $player.width(),
						height: $player.height()
					}
				});
			prefs.$el.appendTo(player.containerElement);
			prefs.on(CCPrefs.Events.CHANGE, function(event) {
				player.message(&quot;updateCCPrefs&quot;, JSON.stringify(event.data));
			});
		});
	});
});</pre>
</body>
</html>
